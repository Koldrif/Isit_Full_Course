{"cells":[{"cell_type":"markdown","source":["# Лаба 1"],"metadata":{"id":"2ecK8mqHm4Cy"}},{"cell_type":"code","source":["!pip install apriori_python efficient-apriori fpgrowth_py pyarmviz numpy pandas matplotlib seaborn  scikit-learn matplotlib umap-learn"],"metadata":{"id":"pDVCfCDem-hi","executionInfo":{"status":"ok","timestamp":1672003130644,"user_tz":-180,"elapsed":14204,"user":{"displayName":"Игорь «Koldrif»","userId":"17108191836703044163"}},"outputId":"8e2119d8-464d-4df3-b9eb-3af4740dcbe5","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":1,"outputs":[{"output_type":"stream","name":"stdout","text":["Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/\n","Collecting apriori_python\n","  Downloading apriori_python-1.0.4-py3-none-any.whl (5.0 kB)\n","Collecting efficient-apriori\n","  Downloading efficient_apriori-2.0.1-py3-none-any.whl (14 kB)\n","Collecting fpgrowth_py\n","  Downloading fpgrowth_py-1.0.0-py3-none-any.whl (5.6 kB)\n","Collecting pyarmviz\n","  Downloading PyARMViz-0.1.4-py2.py3-none-any.whl (658 kB)\n","\u001b[K     |████████████████████████████████| 658 kB 5.3 MB/s \n","\u001b[?25hRequirement already satisfied: numpy in /usr/local/lib/python3.8/dist-packages (1.21.6)\n","Requirement already satisfied: pandas in /usr/local/lib/python3.8/dist-packages (1.3.5)\n","Requirement already satisfied: matplotlib in /usr/local/lib/python3.8/dist-packages (3.2.2)\n","Requirement already satisfied: seaborn in /usr/local/lib/python3.8/dist-packages (0.11.2)\n","Requirement already satisfied: scikit-learn in /usr/local/lib/python3.8/dist-packages (1.0.2)\n","Collecting umap-learn\n","  Downloading umap-learn-0.5.3.tar.gz (88 kB)\n","\u001b[K     |████████████████████████████████| 88 kB 7.4 MB/s \n","\u001b[?25hRequirement already satisfied: plotly in /usr/local/lib/python3.8/dist-packages (from pyarmviz) (5.5.0)\n","Requirement already satisfied: networkx in /usr/local/lib/python3.8/dist-packages (from pyarmviz) (2.8.8)\n","Requirement already satisfied: python-dateutil>=2.7.3 in /usr/local/lib/python3.8/dist-packages (from pandas) (2.8.2)\n","Requirement already satisfied: pytz>=2017.3 in /usr/local/lib/python3.8/dist-packages (from pandas) (2022.6)\n","Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.8/dist-packages (from python-dateutil>=2.7.3->pandas) (1.15.0)\n","Requirement already satisfied: cycler>=0.10 in /usr/local/lib/python3.8/dist-packages (from matplotlib) (0.11.0)\n","Requirement already satisfied: kiwisolver>=1.0.1 in /usr/local/lib/python3.8/dist-packages (from matplotlib) (1.4.4)\n","Requirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.1 in /usr/local/lib/python3.8/dist-packages (from matplotlib) (3.0.9)\n","Requirement already satisfied: scipy>=1.0 in /usr/local/lib/python3.8/dist-packages (from seaborn) (1.7.3)\n","Requirement already satisfied: threadpoolctl>=2.0.0 in /usr/local/lib/python3.8/dist-packages (from scikit-learn) (3.1.0)\n","Requirement already satisfied: joblib>=0.11 in /usr/local/lib/python3.8/dist-packages (from scikit-learn) (1.2.0)\n","Requirement already satisfied: numba>=0.49 in /usr/local/lib/python3.8/dist-packages (from umap-learn) (0.56.4)\n","Collecting pynndescent>=0.5\n","  Downloading pynndescent-0.5.8.tar.gz (1.1 MB)\n","\u001b[K     |████████████████████████████████| 1.1 MB 46.2 MB/s \n","\u001b[?25hRequirement already satisfied: tqdm in /usr/local/lib/python3.8/dist-packages (from umap-learn) (4.64.1)\n","Requirement already satisfied: setuptools in /usr/local/lib/python3.8/dist-packages (from numba>=0.49->umap-learn) (57.4.0)\n","Requirement already satisfied: llvmlite<0.40,>=0.39.0dev0 in /usr/local/lib/python3.8/dist-packages (from numba>=0.49->umap-learn) (0.39.1)\n","Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.8/dist-packages (from numba>=0.49->umap-learn) (5.1.0)\n","Requirement already satisfied: zipp>=0.5 in /usr/local/lib/python3.8/dist-packages (from importlib-metadata->numba>=0.49->umap-learn) (3.11.0)\n","Requirement already satisfied: tenacity>=6.2.0 in /usr/local/lib/python3.8/dist-packages (from plotly->pyarmviz) (8.1.0)\n","Building wheels for collected packages: umap-learn, pynndescent\n","  Building wheel for umap-learn (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for umap-learn: filename=umap_learn-0.5.3-py3-none-any.whl size=82829 sha256=488e666485e4b0b9f0528f38fe1c698565af6cebffecbe53d7ba2e5417374ebe\n","  Stored in directory: /root/.cache/pip/wheels/a9/3a/67/06a8950e053725912e6a8c42c4a3a241410f6487b8402542ea\n","  Building wheel for pynndescent (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for pynndescent: filename=pynndescent-0.5.8-py3-none-any.whl size=55513 sha256=d5e62f87ddefe7f943b34c614071f6f7323d1ad2fc5c1f1bd18396021d43078f\n","  Stored in directory: /root/.cache/pip/wheels/1c/63/3a/29954bca1a27ba100ed8c27973a78cb71b43dc67aed62e80c3\n","Successfully built umap-learn pynndescent\n","Installing collected packages: pynndescent, umap-learn, pyarmviz, fpgrowth-py, efficient-apriori, apriori-python\n","Successfully installed apriori-python-1.0.4 efficient-apriori-2.0.1 fpgrowth-py-1.0.0 pyarmviz-0.1.4 pynndescent-0.5.8 umap-learn-0.5.3\n"]}]},{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/drive')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"EgD5yk4cUmTd","executionInfo":{"status":"ok","timestamp":1672003149160,"user_tz":-180,"elapsed":18257,"user":{"displayName":"Игорь «Koldrif»","userId":"17108191836703044163"}},"outputId":"3aba3c2a-efe1-4999-e9d9-33d37889e515"},"execution_count":2,"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}]},{"cell_type":"code","source":["from apriori_python import apriori\n","\n","a = [\n","    ['Молоко', 'Сахар', 'Чай', 'Яйца', 'Кофе'],\n","    ['Суши', 'Сахар', 'Чай', ],\n","    ['Сахар', 'Чай', 'Сыр', 'Макароны', 'Кофе'],\n","    ['Яйца', 'Сахар', 'Чай', 'Молоко', ],\n","    ['Сахар', 'Яйца', 'Кофе', 'Молоко', ],\n","    ['Сахар', 'Чай', 'Кофе', '', ''],\n","    ['Чай', 'Сахар', 'Яйца', 'Молоко', 'Кофе'],\n","    ['Суши', 'Кофе', 'Сахар', ],\n","    ['Кофе', 'Сахар', 'Чай', 'Яйца',],\n","    ['Сахар', 'Кофе', 'Чипсы', 'Чай', ],\n","    ['Сахар', 'Кофе', 'Яйца', 'Чай', ],\n","    ['Сахар', 'Чай', 'Суши', ],\n","    ['Сахар', 'Кофе', 'Чай', 'Молоко',],\n","    ['Сахар', 'Кофе', 'Чай', 'Чипсы',],\n","    ['Сахар', 'Кофе', 'Молоко', 'Яйца',],\n","    ['Сахар', 'Кофе', 'Суши', 'Чипсы', 'Чай'],\n","    ['Сахар', 'Кофе', 'Суши', 'Чай', 'Чипсы'],\n","    ['Сахар', 'Кофе', 'Чай', ],\n","    ['Суши', 'Сахар', 'Чай', 'Чипсы', ],\n","    ['Сахар', 'Кофе', 'Яйца', 'Молоко', 'Чай'],\n","    ]\n","\n","frItems, rules = apriori(a, minSup = 0.5, minConf=0.5)\n","print(\"S*C\")\n","for t in rules:\n","    print(t)\n"],"metadata":{"id":"hKcxfnqZnha9","executionInfo":{"status":"ok","timestamp":1672003149161,"user_tz":-180,"elapsed":5,"user":{"displayName":"Игорь «Koldrif»","userId":"17108191836703044163"}},"outputId":"42b916ab-b335-4f61-d296-f3e529250fc2","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":3,"outputs":[{"output_type":"stream","name":"stdout","text":["S*C\n","[{'Сахар'}, {'Кофе', 'Чай'}, 0.65]\n","[{'Чай'}, {'Кофе'}, 0.7647058823529411]\n","[{'Чай'}, {'Кофе', 'Сахар'}, 0.7647058823529411]\n","[{'Чай', 'Сахар'}, {'Кофе'}, 0.7647058823529411]\n","[{'Сахар'}, {'Кофе'}, 0.8]\n","[{'Кофе'}, {'Чай'}, 0.8125]\n","[{'Кофе'}, {'Чай', 'Сахар'}, 0.8125]\n","[{'Кофе', 'Сахар'}, {'Чай'}, 0.8125]\n","[{'Сахар'}, {'Чай'}, 0.85]\n","[{'Чай'}, {'Сахар'}, 1.0]\n","[{'Кофе'}, {'Сахар'}, 1.0]\n","[{'Кофе', 'Чай'}, {'Сахар'}, 1.0]\n"]}]},{"cell_type":"code","source":["from PyARMViz import PyARMViz\n","from efficient_apriori import apriori\n","from PyARMViz import *\n","\n","a = [\n","    ['Молоко', 'Сахар', 'Чай', 'Яйца', 'Кофе'],\n","    ['Суши', 'Сахар', 'Чай', ],\n","    ['Сахар', 'Чай', 'Сыр', 'Макароны', 'Кофе'],\n","    ['Яйца', 'Сахар', 'Чай', 'Молоко', ],\n","    ['Сахар', 'Яйца', 'Кофе', 'Молоко', ],\n","    ['Сахар', 'Чай', 'Кофе', '', ''],\n","    ['Чай', 'Сахар', 'Яйца', 'Молоко', 'Кофе'],\n","    ['Суши', 'Кофе', 'Сахар', ],\n","    ['Кофе', 'Сахар', 'Чай', 'Яйца',],\n","    ['Сахар', 'Кофе', 'Чипсы', 'Чай', ],\n","    ['Сахар', 'Кофе', 'Яйца', 'Чай', ],\n","    ['Сахар', 'Чай', 'Суши', ],\n","    ['Сахар', 'Кофе', 'Чай', 'Молоко',],\n","    ['Сахар', 'Кофе', 'Чай', 'Чипсы',],\n","    ['Сахар', 'Кофе', 'Молоко', 'Яйца',],\n","    ['Сахар', 'Кофе', 'Суши', 'Чипсы', 'Чай'],\n","    ['Сахар', 'Кофе', 'Суши', 'Чай', 'Чипсы'],\n","    ['Сахар', 'Кофе', 'Чай', ],\n","    ['Суши', 'Сахар', 'Чай', 'Чипсы', ],\n","    ['Сахар', 'Кофе', 'Яйца', 'Молоко', 'Чай'],\n","    ]\n","\n","frItems, rules = apriori(a, min_support= 0.5, min_confidence=0.5)\n","for t in rules:\n","    print(t)\n","\n","PyARMViz.adjacency_parallel_category_plot(rules)"],"metadata":{"id":"XoKb2MFZqiU4","executionInfo":{"status":"ok","timestamp":1672003351810,"user_tz":-180,"elapsed":505,"user":{"displayName":"Игорь «Koldrif»","userId":"17108191836703044163"}},"outputId":"a1b26823-c7e1-4ac6-f4bc-687f279e4fb2","colab":{"base_uri":"https://localhost:8080/","height":1000}},"execution_count":5,"outputs":[{"output_type":"stream","name":"stdout","text":["{Сахар} -> {Кофе} (conf: 0.800, supp: 0.800, lift: 1.000, conv: 1.000)\n","{Кофе} -> {Сахар} (conf: 1.000, supp: 0.800, lift: 1.000, conv: 0.000)\n","{Чай} -> {Кофе} (conf: 0.765, supp: 0.650, lift: 0.956, conv: 0.850)\n","{Кофе} -> {Чай} (conf: 0.812, supp: 0.650, lift: 0.956, conv: 0.800)\n","{Чай} -> {Сахар} (conf: 1.000, supp: 0.850, lift: 1.000, conv: 0.000)\n","{Сахар} -> {Чай} (conf: 0.850, supp: 0.850, lift: 1.000, conv: 1.000)\n","{Сахар, Чай} -> {Кофе} (conf: 0.765, supp: 0.650, lift: 0.956, conv: 0.850)\n","{Кофе, Чай} -> {Сахар} (conf: 1.000, supp: 0.650, lift: 1.000, conv: 0.000)\n","{Кофе, Сахар} -> {Чай} (conf: 0.812, supp: 0.650, lift: 0.956, conv: 0.800)\n","{Чай} -> {Кофе, Сахар} (conf: 0.765, supp: 0.650, lift: 0.956, conv: 0.850)\n","{Сахар} -> {Кофе, Чай} (conf: 0.650, supp: 0.650, lift: 1.000, conv: 1.000)\n","{Кофе} -> {Сахар, Чай} (conf: 0.812, supp: 0.650, lift: 0.956, conv: 0.800)\n"]},{"output_type":"display_data","data":{"text/html":["<html>\n","<head><meta charset=\"utf-8\" /></head>\n","<body>\n","    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n","        <script src=\"https://cdn.plot.ly/plotly-2.8.3.min.js\"></script>                <div id=\"ae9ea594-5c38-460e-ae27-45b8ffa87a47\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"ae9ea594-5c38-460e-ae27-45b8ffa87a47\")) {                    Plotly.newPlot(                        \"ae9ea594-5c38-460e-ae27-45b8ffa87a47\",                        [{\"dimensions\":[{\"label\":\"Antacedent 1\",\"values\":[\"\\u0421\\u0430\\u0445\\u0430\\u0440\",\"\\u041a\\u043e\\u0444\\u0435\",\"\\u0427\\u0430\\u0439\",\"\\u041a\\u043e\\u0444\\u0435\",\"\\u0427\\u0430\\u0439\",\"\\u0421\\u0430\\u0445\\u0430\\u0440\"]},{\"label\":\"Consequent\",\"values\":[\"\\u041a\\u043e\\u0444\\u0435\",\"\\u0421\\u0430\\u0445\\u0430\\u0440\",\"\\u041a\\u043e\\u0444\\u0435\",\"\\u0427\\u0430\\u0439\",\"\\u0421\\u0430\\u0445\\u0430\\u0440\",\"\\u0427\\u0430\\u0439\"]}],\"type\":\"parcats\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"plot_bgcolor\":\"white\",\"paper_bgcolor\":\"white\"},                        {\"responsive\": true}                    ).then(function(){\n","                            \n","var gd = document.getElementById('ae9ea594-5c38-460e-ae27-45b8ffa87a47');\n","var x = new MutationObserver(function (mutations, observer) {{\n","        var display = window.getComputedStyle(gd).display;\n","        if (!display || display === 'none') {{\n","            console.log([gd, 'removed!']);\n","            Plotly.purge(gd);\n","            observer.disconnect();\n","        }}\n","}});\n","\n","// Listen for the removal of the full notebook cells\n","var notebookContainer = gd.closest('#notebook-container');\n","if (notebookContainer) {{\n","    x.observe(notebookContainer, {childList: true});\n","}}\n","\n","// Listen for the clearing of the current output cell\n","var outputEl = gd.closest('.output');\n","if (outputEl) {{\n","    x.observe(outputEl, {childList: true});\n","}}\n","\n","                        })                };                            </script>        </div>\n","</body>\n","</html>"]},"metadata":{}},{"output_type":"display_data","data":{"text/html":["<html>\n","<head><meta charset=\"utf-8\" /></head>\n","<body>\n","    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n","        <script src=\"https://cdn.plot.ly/plotly-2.8.3.min.js\"></script>                <div id=\"28f5f184-81af-4a70-a333-520434b32e41\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"28f5f184-81af-4a70-a333-520434b32e41\")) {                    Plotly.newPlot(                        \"28f5f184-81af-4a70-a333-520434b32e41\",                        [{\"dimensions\":[{\"label\":\"Antacedent 2\",\"values\":[\"\\u0421\\u0430\\u0445\\u0430\\u0440\",\"\\u041a\\u043e\\u0444\\u0435\",\"\\u041a\\u043e\\u0444\\u0435\"]},{\"label\":\"Antacedent 1\",\"values\":[\"\\u0427\\u0430\\u0439\",\"\\u0427\\u0430\\u0439\",\"\\u0421\\u0430\\u0445\\u0430\\u0440\"]},{\"label\":\"Consequent\",\"values\":[\"\\u041a\\u043e\\u0444\\u0435\",\"\\u0421\\u0430\\u0445\\u0430\\u0440\",\"\\u0427\\u0430\\u0439\"]}],\"type\":\"parcats\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"plot_bgcolor\":\"white\",\"paper_bgcolor\":\"white\"},                        {\"responsive\": true}                    ).then(function(){\n","                            \n","var gd = document.getElementById('28f5f184-81af-4a70-a333-520434b32e41');\n","var x = new MutationObserver(function (mutations, observer) {{\n","        var display = window.getComputedStyle(gd).display;\n","        if (!display || display === 'none') {{\n","            console.log([gd, 'removed!']);\n","            Plotly.purge(gd);\n","            observer.disconnect();\n","        }}\n","}});\n","\n","// Listen for the removal of the full notebook cells\n","var notebookContainer = gd.closest('#notebook-container');\n","if (notebookContainer) {{\n","    x.observe(notebookContainer, {childList: true});\n","}}\n","\n","// Listen for the clearing of the current output cell\n","var outputEl = gd.closest('.output');\n","if (outputEl) {{\n","    x.observe(outputEl, {childList: true});\n","}}\n","\n","                        })                };                            </script>        </div>\n","</body>\n","</html>"]},"metadata":{}}]},{"cell_type":"code","source":["from fpgrowth_py import *\n","a = [\n","        ['Кофе', 'Молоко', 'Сахар', 'Чай', 'Яйца'] ,\n","        ['Сахар', 'Суши', 'Чай'] ,\n","        ['Кофе', 'Макароны', 'Сахар', 'Сыр', 'Чай'] ,\n","        ['Молоко', 'Сахар', 'Чай', 'Яйца'] ,\n","        ['Кофе', 'Молоко', 'Сахар', 'Яйца'] ,\n","        ['', '', 'Кофе', 'Сахар', 'Чай'] ,\n","        ['Кофе', 'Молоко', 'Сахар', 'Чай', 'Яйца'] ,\n","        ['Кофе', 'Сахар', 'Суши'] ,\n","        ['Кофе', 'Сахар', 'Чай', 'Яйца'] ,\n","        ['Кофе', 'Сахар', 'Чай', 'Чипсы'] ,\n","        ['Кофе', 'Сахар', 'Чай', 'Яйца'] ,\n","        ['Сахар', 'Суши', 'Чай'] ,\n","        ['Кофе', 'Молоко', 'Сахар', 'Чай'] ,\n","        ['Кофе', 'Сахар', 'Чай', 'Чипсы'] ,\n","        ['Кофе', 'Молоко', 'Сахар', 'Яйца'] ,\n","        ['Кофе', 'Сахар', 'Суши', 'Чай', 'Чипсы'] ,\n","        ['Кофе', 'Сахар', 'Суши', 'Чай', 'Чипсы'] ,\n","        ['Кофе', 'Сахар', 'Чай'] ,\n","        ['Сахар', 'Суши', 'Чай', 'Чипсы'] ,\n","        ['Кофе', 'Молоко', 'Сахар', 'Чай', 'Яйца'] \n","]\n","\n","with open(\"dataset.csv\", \"w\") as file:\n","  for elem in a:\n","    for cell in elem:\n","      file.write(cell + \",\")\n","    file.write(\"\\n\")\n","\n","\n","#print(itemSetList)\n","frItems, rules = fpgrowth(a, minSupRatio= 0.5, minConf=0.5)\n","\n","for t in rules:\n","    print(t)\n","\n","for i in range(10):\n","  print()\n","\n","\n","\n","\n","itemSetList, frequency = getFromFile('dataset.csv')\n","minSupRatio=0.3\n","minSup = len(itemSetList) * minSupRatio\n","fpTree, headerTable = constructTree(itemSetList, frequency, minSup)\n","fpTree.display()\n"],"metadata":{"id":"opyi9Oujs8qh","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1672003443487,"user_tz":-180,"elapsed":254,"user":{"displayName":"Игорь «Koldrif»","userId":"17108191836703044163"}},"outputId":"b97896da-cfe4-48d7-c479-5447e288b796"},"execution_count":10,"outputs":[{"output_type":"stream","name":"stdout","text":["[{'Кофе'}, {'Чай'}, 0.8125]\n","[{'Чай'}, {'Кофе'}, 0.7647058823529411]\n","[{'Кофе'}, {'Чай', 'Сахар'}, 0.8125]\n","[{'Чай'}, {'Кофе', 'Сахар'}, 0.7647058823529411]\n","[{'Сахар'}, {'Кофе', 'Чай'}, 0.65]\n","[{'Кофе', 'Чай'}, {'Сахар'}, 1.0]\n","[{'Кофе', 'Сахар'}, {'Чай'}, 0.8125]\n","[{'Чай', 'Сахар'}, {'Кофе'}, 0.7647058823529411]\n","[{'Кофе'}, {'Сахар'}, 1.0]\n","[{'Сахар'}, {'Кофе'}, 0.8]\n","[{'Чай'}, {'Сахар'}, 1.0]\n","[{'Сахар'}, {'Чай'}, 0.85]\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","   Null   1\n","     Сахар   20\n","       Чай   17\n","         Кофе   13\n","           Яйца   5\n","             Молоко   3\n","           Молоко   1\n","           Суши   2\n","         Суши   3\n","         Яйца   1\n","           Молоко   1\n","       Кофе   3\n","         Яйца   2\n","           Молоко   2\n","         Суши   1\n"]}]},{"cell_type":"code","source":["#from PyARMViz import PyARMViz\n","from fpgrowth_py import fpgrowth\n","a = [\n","    ['Молоко', 'Сахар', 'Чай', 'Яйца', 'Кофе'],\n","    ['Суши', 'Сахар', 'Чай', ],\n","    ['Сахар', 'Чай', 'Сыр', 'Макароны', 'Кофе'],\n","    ['Яйца', 'Сахар', 'Чай', 'Молоко', ],\n","    ['Сахар', 'Яйца', 'Кофе', 'Молоко', ],\n","    ['Сахар', 'Чай', 'Кофе', '', ''],\n","    ['Чай', 'Сахар', 'Яйца', 'Молоко', 'Кофе'],\n","    ['Суши', 'Кофе', 'Сахар', ],\n","    ['Кофе', 'Сахар', 'Чай', 'Яйца',],\n","    ['Сахар', 'Кофе', 'Чипсы', 'Чай', ],\n","    ['Сахар', 'Кофе', 'Яйца', 'Чай', ],\n","    ['Сахар', 'Чай', 'Суши', ],\n","    ['Сахар', 'Кофе', 'Чай', 'Молоко',],\n","    ['Сахар', 'Кофе', 'Чай', 'Чипсы',],\n","    ['Сахар', 'Кофе', 'Молоко', 'Яйца',],\n","    ['Сахар', 'Кофе', 'Суши', 'Чипсы', 'Чай'],\n","    ['Сахар', 'Кофе', 'Суши', 'Чай', 'Чипсы'],\n","    ['Сахар', 'Кофе', 'Чай', ],\n","    ['Суши', 'Сахар', 'Чай', 'Чипсы', ],\n","    ['Сахар', 'Кофе', 'Яйца', 'Молоко', 'Чай'],\n","    ]\n","\n","frItems, rules = fpgrowth(a, minSupRatio= 0.5, minConf=0.5)\n","\n","##from PyARMViz import Rule\n","\n","#PyARMViz.adjacency_parallel_category_plot(rules)\n","#PyARMViz.adjacency_parallel_coordinate_plot(rules)\n"],"metadata":{"id":"xcDZwLHLt2KZ","executionInfo":{"status":"ok","timestamp":1672003449529,"user_tz":-180,"elapsed":254,"user":{"displayName":"Игорь «Koldrif»","userId":"17108191836703044163"}}},"execution_count":11,"outputs":[]},{"cell_type":"markdown","source":["Замерить время выполнения"],"metadata":{"id":"6C4hYI36xfKN"}},{"cell_type":"code","source":["import apriori_python\n","import efficient_apriori\n","import fpgrowth_py\n","import time\n","import random\n","\n","a = ['Сахар', 'Чай', 'Сыр', 'Макароны', 'Кофе', \"Суши\", \"Огурец\"]\n","\n","def createDataSet(count):\n","  tmp = []\n","  global a\n","  for i in range(count + 1):\n","    tmp1 = []\n","    #tmp1 += (random.choices(a, k=random.randint(4, len(a))))\n","    #tmp1 += (random.choices(a, k=random.randint(4, len(a))))\n","\n","    tmp.append(['Сахар', 'Чай', 'Сыр', 'Макароны', 'Кофе', \"Суши\", \"Огурец\"])\n","\n","  return tmp\n","\n","dataSet = createDataSet(10)\n","\n","start = time.time()\n","apriori_python.apriori(dataSet, minSup=0.5, minConf=0.5)\n","end = time.time()\n","apr = end - start\n","\n","\n","start = time.time()\n","efficient_apriori.apriori(dataSet, min_support=0.5, min_confidence=0.5)\n","end = time.time()\n","effApr = end - start\n","\n","start = time.time()\n","fpgrowth_py.fpgrowth(dataSet, minSupRatio=0.5, minConf=0.5)\n","end = time.time()\n","fpgr = end - start\n","\n","print(apr, effApr, fpgr, sep=\"\\n\")\n","\n","import numpy as np\n","import matplotlib.pyplot as plt\n","\n","index = [\"Apriory\", \"Efficient_Apriory\", \"fpgrowth\"]\n","values = [apr, effApr, fpgr]\n","\n","plt.bar(index, values)\n","plt.show()"],"metadata":{"id":"cXeF2naKxh4F","colab":{"base_uri":"https://localhost:8080/","height":318},"executionInfo":{"status":"ok","timestamp":1672003453044,"user_tz":-180,"elapsed":633,"user":{"displayName":"Игорь «Koldrif»","userId":"17108191836703044163"}},"outputId":"3c527d44-5271-4697-ea96-8790176012a4"},"execution_count":12,"outputs":[{"output_type":"stream","name":"stdout","text":["0.020816326141357422\n","0.10891270637512207\n","0.02008342742919922\n"]},{"output_type":"display_data","data":{"text/plain":["<Figure size 432x288 with 1 Axes>"],"image/png":"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\n"},"metadata":{"needs_background":"light"}}]}],"metadata":{"colab":{"provenance":[{"file_id":"/v2/external/notebooks/intro.ipynb","timestamp":1663775560437}]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}